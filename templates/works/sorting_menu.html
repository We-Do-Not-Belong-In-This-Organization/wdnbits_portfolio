<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sorting Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>

<body class="member">

<div class="container">

    <!-- =========================
         TOP BAR / TITLE
    ========================== -->
    <div class="top-bar">
        <a href="{{ url_for('main.profile_member', name=from_page) if from_page else '/profile' }}"
           class="back-button">BACK</a>

        <div class="title">
            <span class="top">Sorting Visualizer</span>
            <span class="main">SORT</span>
            <span class="sub">Animate & Learn</span>
        </div>
    </div>

    <!-- =========================
         CONTROLS SECTION
    ========================== -->
    <div class="controls">

        <!-- LEFT: INPUT & SPEED -->
        <div class="controls-left">
            <label for="numbersInput">INPUT</label>
            <input
                type="text"
                id="numbersInput"
                name="numbers"
                value="{{ original if original else '' }}"
                placeholder="e.g. 5,1,9,3"
                autocomplete="off"
            >

            <label for="speedInput">Animation Speed (10–1000 ms)</label>
            <input
                type="number"
                id="speedInput"
                min="10"
                max="1000"
                step="1"
                placeholder="300"
            >
        </div>

        <!-- RIGHT: ALGORITHMS -->
        <div class="controls-right">
            <div class="algo-header">
                <span>SORTING BUTTONS:</span>
                <button
                    type="button"
                    class="info-btn"
                    onclick="openModal()"
                    aria-label="Sorting Algorithm Info"
                >i</button>
            </div>

            <select id="algoSelect">
                <option value="bubble">Bubble Sort</option>
                <option value="insertion">Insertion Sort</option>
                <option value="selection">Selection Sort</option>
                <option value="merge">Merge Sort</option>
                <option value="quick">Quick Sort</option>
            </select>

            <button type="button" id="sortButton">
                Sort & Animate
            </button>
        </div>

    </div>

    <!-- =========================
         VISUALIZATION
    ========================== -->
    <div class="visualization-section">
        <div id="array-container"></div>
    </div>

    <!-- =========================
         RESULT
    ========================== -->
    <div id="serverResult">
        {% if result %}
        <div>
            <h3>Result ({{ algo|capitalize }} Sort)</h3>
            <p>{{ result }}</p>
        </div>
        {% endif %}
    </div>

</div>

<!-- ===========================
      INFO MODAL
=========================== -->
<div id="infoModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>

        <div id="page1" class="info-page active">
            <h2>1. Bubble Sort</h2>
            <p>It repeatedly swaps adjacent elements.</p>
            <p>Complexity: O(n²)</p>
        </div>

        <div id="page2" class="info-page">
            <h2>2. Insertion Sort</h2>
            <p>Builds the sorted array one item at a time.</p>
            <p>Complexity: O(n²)</p>
        </div>

        <div id="page3" class="info-page">
            <h2>3. Selection Sort</h2>
            <p>Finds the minimum and swaps it into place.</p>
            <p>Complexity: O(n²)</p>
        </div>

        <div id="page4" class="info-page">
            <h2>4. Merge Sort</h2>
            <p>Divide and conquer strategy.</p>
            <p>Complexity: O(n log n)</p>
        </div>

        <div id="page5" class="info-page">
            <h2>5. Quick Sort</h2>
            <p>Partitions around a pivot.</p>
            <p>Complexity: O(n log n)</p>
        </div>

        <div class="modal-navigation">
            <button type="button" class="nav-btn" onclick="changePage(-1)">
                Previous
            </button>
            <span id="pageNumber">Page 1 of 5</span>
            <button type="button" class="nav-btn" onclick="changePage(1)">
                Next
            </button>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/sorting.js') }}"></script>

</body>
</html>
